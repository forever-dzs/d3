"use strict";(self["webpackChunkvue3_0"]=self["webpackChunkvue3_0"]||[]).push([[729],{7061:function(t,e,n){function a(t){return{all:t=t||new Map,on:function(e,n){var a=t.get(e);a?a.push(n):t.set(e,[n])},off:function(e,n){var a=t.get(e);a&&(n?a.splice(a.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var a=t.get(e);a&&a.slice().map((function(t){t(n)})),(a=t.get("*"))&&a.slice().map((function(t){t(e,n)}))}}}n.d(e,{Z:function(){return o}});const r=a();var o=r},335:function(t,e,n){var a=n(3396);e["Z"]=()=>{const{appContext:t}=(0,a.FN)(),e=t.config.globalProperties;return{proxy:e}}},1729:function(t,e,n){n.r(e),n.d(e,{default:function(){return x}});var a=n(3396);const r={key:1};function o(t,e,n,o,i,l){const u=(0,a.up)("d3SimpleCloudChart");return t.data?((0,a.wg)(),(0,a.j4)(u,{key:0,data:t.data},null,8,["data"])):((0,a.wg)(),(0,a.iD)("div",r,"加载中。。。"))}var i=n(4870);const l={class:"tag-cloud-chart--simple",style:{height:"100%"}},u={ref:"cloudRef"};function c(t,e,n,r,o,i){return(0,a.wg)(),(0,a.iD)("div",l,[((0,a.wg)(),(0,a.iD)("svg",u,null,512))])}var s=n(335),d=(0,a.aZ)({name:"d3SimpleCloudChart",props:{data:{type:Array,required:!0,default:()=>[]}},setup(t){const e=(0,i.iH)(null),{proxy:n}=(0,s.Z)();(0,a.bv)((()=>{r(t.data)})),(0,a.YP)(t,(t=>{r(t.data)}),{deep:!0});const r=t=>{const a=e.value.parentNode.offsetWidth;let r=n.$d3.select(e.value).html(""),o=n.$d3.scaleOrdinal(n.$d3.schemeCategory20),i=t.map((t=>({text:t.name,size:10+8*t.value,href:t.href}))),l=n.$d3Cloud().size([a,700]).words(i).padding(5).rotate((function(){return 90*Math.floor(2*Math.random())})).font("Impact").fontSize((function(t){return t.size})).on("end",u);function u(t){let e=r.attr("width",a).attr("height",700).append("g").attr("transform","translate("+a/2+",350)");e.selectAll("text").data(t).enter().append("text").on("click",(function(t){window.open(t.href)})).style("font-family","Impact").style("cursor","pointer").style("fill",(function(t,e){return o(e)})).attr("text-anchor","middle").attr("transform",(function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"})).style("font-size",(function(t){return t.size+"px"})).text((function(t){return t.text})).append("title").text((function(t){return t.href})),e.selectAll("text").style("fill-opacity",0).transition().duration(200).delay((function(t,e){return 200*e})).style("fill-opacity",1),r.append("g").attr("class","bar--title").append("text").attr("fill","#000").attr("font-size","16px").attr("font-weight","700").attr("text-anchor","middle").attr("x",a/2).attr("y",20).text("简单词云")}l.start()};return{cloudRef:e}}}),f=n(89);const p=(0,f.Z)(d,[["render",c]]);var h=p,m=n(7860),v=n(7061),y=(0,a.aZ)({name:"d3Cloud",components:{d3SimpleCloudChart:h},setup(){(0,a.bv)((()=>{t(),v.Z.on("searchData",(()=>{t()}))}));const t=()=>{(0,m.t2)().then((t=>{e.data=t.data}))},e=(0,i.qj)({data:null});return{...(0,i.BK)(e)}}});const g=(0,f.Z)(y,[["render",o]]);var x=g}}]);
//# sourceMappingURL=729.fb60fd11.js.map