{"version":3,"file":"static/js/669.b6e21350.js","mappings":"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","sources":["webpack://vue3.0/../src/index.ts","webpack://vue3.0/./src/assets/util/bus.ts","webpack://vue3.0/./src/assets/util/useCurrentInstance.ts","webpack://vue3.0/./src/views/d3Page/d3Bar.vue?8ffa","webpack://vue3.0/./src/components/d3SimpleBarChart.vue?e12e","webpack://vue3.0/./src/components/d3SimpleBarChart.vue?7376","webpack://vue3.0/./src/components/d3SimpleBarChart.vue","webpack://vue3.0/./src/views/d3Page/d3Bar.vue?94f5","webpack://vue3.0/./src/views/d3Page/d3Bar.vue"],"sourcesContent":["export type EventType = string | symbol;\n\n// An event handler can take an optional event argument\n// and should not return a value\nexport type Handler<T = unknown> = (event: T) => void;\nexport type WildcardHandler<T = Record<string, unknown>> = (\n\ttype: keyof T,\n\tevent: T[keyof T]\n) => void;\n\n// An array of all currently registered event handlers for a type\nexport type EventHandlerList<T = unknown> = Array<Handler<T>>;\nexport type WildCardEventHandlerList<T = Record<string, unknown>> = Array<WildcardHandler<T>>;\n\n// A map of event types and their corresponding event handlers.\nexport type EventHandlerMap<Events extends Record<EventType, unknown>> = Map<\n\tkeyof Events | '*',\n\tEventHandlerList<Events[keyof Events]> | WildCardEventHandlerList<Events>\n>;\n\nexport interface Emitter<Events extends Record<EventType, unknown>> {\n\tall: EventHandlerMap<Events>;\n\n\ton<Key extends keyof Events>(type: Key, handler: Handler<Events[Key]>): void;\n\ton(type: '*', handler: WildcardHandler<Events>): void;\n\n\toff<Key extends keyof Events>(type: Key, handler?: Handler<Events[Key]>): void;\n\toff(type: '*', handler: WildcardHandler<Events>): void;\n\n\temit<Key extends keyof Events>(type: Key, event: Events[Key]): void;\n\temit<Key extends keyof Events>(type: undefined extends Events[Key] ? Key : never): void;\n}\n\n/**\n * Mitt: Tiny (~200b) functional event emitter / pubsub.\n * @name mitt\n * @returns {Mitt}\n */\nexport default function mitt<Events extends Record<EventType, unknown>>(\n\tall?: EventHandlerMap<Events>\n): Emitter<Events> {\n\ttype GenericEventHandler =\n\t\t| Handler<Events[keyof Events]>\n\t\t| WildcardHandler<Events>;\n\tall = all || new Map();\n\n\treturn {\n\n\t\t/**\n\t\t * A Map of event names to registered handler functions.\n\t\t */\n\t\tall,\n\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t * @param {string|symbol} type Type of event to listen for, or `'*'` for all events\n\t\t * @param {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton<Key extends keyof Events>(type: Key, handler: GenericEventHandler) {\n\t\t\tconst handlers: Array<GenericEventHandler> | undefined = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\thandlers.push(handler);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tall!.set(type, [handler] as EventHandlerList<Events[keyof Events]>);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t * If `handler` is omitted, all handlers of the given type are removed.\n\t\t * @param {string|symbol} type Type of event to unregister `handler` from, or `'*'`\n\t\t * @param {Function} [handler] Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff<Key extends keyof Events>(type: Key, handler?: GenericEventHandler) {\n\t\t\tconst handlers: Array<GenericEventHandler> | undefined = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\tif (handler) {\n\t\t\t\t\thandlers.splice(handlers.indexOf(handler) >>> 0, 1);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tall!.set(type, []);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `'*'` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * Note: Manually firing '*' handlers is not supported.\n\t\t *\n\t\t * @param {string|symbol} type The event type to invoke\n\t\t * @param {Any} [evt] Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit<Key extends keyof Events>(type: Key, evt?: Events[Key]) {\n\t\t\tlet handlers = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\t(handlers as EventHandlerList<Events[keyof Events]>)\n\t\t\t\t\t.slice()\n\t\t\t\t\t.map((handler) => {\n\t\t\t\t\t\thandler(evt!);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\thandlers = all!.get('*');\n\t\t\tif (handlers) {\n\t\t\t\t(handlers as WildCardEventHandlerList<Events>)\n\t\t\t\t\t.slice()\n\t\t\t\t\t.map((handler) => {\n\t\t\t\t\t\thandler(type, evt!);\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n}\n","/*\r\n * @Author: DongZS\r\n * @Date: 2022-04-21 15:59:09\r\n * @Description: 页面\r\n * @FilePath: \\scf-front-corp-staticd:\\练习\\vue3.0\\src\\assets\\util\\bus.ts\r\n */\r\nimport mitt from \"mitt\";\r\nconst bus = mitt()\r\nexport default bus","/*\r\n * @Author: DongZS\r\n * @Date: 2022-04-18 10:53:17\r\n * @Description: 页面\r\n * @FilePath: \\scf-front-corp-staticd:\\练习\\vue3.0\\src\\assets\\util\\useCurrentInstance.ts\r\n */\r\nimport { getCurrentInstance, ComponentInternalInstance } from \"vue\"\r\nexport default () => {\r\n\tconst { appContext } = getCurrentInstance() as ComponentInternalInstance\r\n\tconst proxy = appContext.config.globalProperties\r\n\treturn { proxy }\r\n}","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { key: 1 }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_d3SimpleBarChart = _resolveComponent(\"d3SimpleBarChart\")!\n\n  return (_ctx.data)\n    ? (_openBlock(), _createBlock(_component_d3SimpleBarChart, {\n        key: 0,\n        data: _ctx.data\n      }, null, 8, [\"data\"]))\n    : (_openBlock(), _createElementBlock(\"div\", _hoisted_1, \"加载中。。。\"))\n}","import { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  class: \"bar-chart--simple\",\n  style: {\"height\":\"100%\"}\n}\nconst _hoisted_2 = { ref: \"barRef\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(), _createElementBlock(\"svg\", _hoisted_2, null, 512))\n  ]))\n}","\r\nimport { defineComponent, onMounted, ref, watch } from \"vue\";\r\nimport useCurrentInstance from \"@/assets/util/useCurrentInstance\";\r\nexport default defineComponent({\r\n  name: \"barChart\",\r\n  props: {\r\n    data: {\r\n      type: Array,\r\n      required: true,\r\n      default: () => {\r\n        return [];\r\n      },\r\n    },\r\n  },\r\n  setup(props) {\r\n\t\tconst barRef = ref<any>(null);\r\n\t\tconst { proxy } = useCurrentInstance();\r\n    onMounted(() => {\r\n      initBar(props.data);\r\n    })\r\n    watch(props, (val) => {\r\n      initBar(val.data)\r\n    }, {\r\n      deep: true\r\n    })\r\n    const initBar = (data: any): void => {\r\n      const containerWidth = barRef.value.parentNode.offsetWidth;\r\n      const margin = {\r\n        top: 80,\r\n        right: 20,\r\n        bottom: 30,\r\n        left: 60,\r\n      };\r\n      const width = containerWidth - margin.left - margin.right;\r\n      const height = 700 - margin.top - margin.bottom;\r\n      let chart = proxy.$d3\r\n        .select(barRef.value)\r\n        .html('')\r\n        .attr(\"width\", width + margin.left + margin.right)\r\n        .attr(\"height\", height + margin.top + margin.bottom);\r\n\r\n      let x = proxy.$d3\r\n        .scaleBand()\r\n        .rangeRound([0, width])\r\n        .padding(0.3)\r\n        .domain(\r\n          data.map(function (d: any) {\r\n            return d.letter;\r\n          })\r\n        ); // 设置x轴\r\n      let y = proxy.$d3\r\n        .scaleLinear()\r\n        .rangeRound([height, 0])\r\n        .domain([\r\n          0,\r\n          proxy.$d3.max(data, function (d: any) {\r\n            return d.frequency;\r\n          }),\r\n        ]); // 设置y轴\r\n\r\n      const barWidth = (width / data.length) * 0.7; // 用于绘制每条柱\r\n      const stepArray = proxy.$d3.ticks(\r\n        0,\r\n        proxy.$d3.max(data, (d: any) => d.frequency),\r\n        10\r\n      ); // 用于生成背景柱\r\n      const colors = [\"#ccc\", \"#ddd\"]; // 用于生成背景柱\r\n      let tip = proxy.$d3Tip() // 设置tip\r\n        .attr(\"class\", \"d3-tip\")\r\n        .offset([-10, 0])\r\n        .html(function (d: any) {\r\n          return (\r\n            \"<strong>星期\" +\r\n            d.letter +\r\n            \"<br>空置率:</strong> <span style='color:#ffeb3b'>\" +\r\n            (d.frequency * 100).toFixed(2) +\r\n            \"%</span>\"\r\n          );\r\n        });\r\n\r\n      chart.call(tip);\r\n\r\n      let g = chart\r\n        .append(\"g\")\r\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\"); // 设最外包层在总图上的相对位置\r\n\r\n      g.append(\"g\") // 设置x轴\r\n        .attr(\"class\", \"axis axis--x\")\r\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n        .call(proxy.$d3.axisBottom(x));\r\n\r\n      g.append(\"g\") // 设置y轴\r\n        .attr(\"class\", \"axis axis--y\")\r\n        .call(proxy.$d3.axisLeft(y).ticks(10, \"%\"))\r\n        .append(\"text\")\r\n        .attr(\"y\", -16)\r\n        .attr(\"dy\", \".71em\")\r\n        .style(\"text-anchor\", \"middle\")\r\n        .style(\"fill\", \"#000\")\r\n        .text(\"空置率 (%)\");\r\n\r\n      g.append(\"g\") // 设置背景柱\r\n        .attr(\"class\", \"bar--bg-bar\")\r\n        .selectAll(\"rect\")\r\n        .data(proxy.$d3.range(stepArray.length - 1))\r\n        .enter()\r\n        .append(\"rect\")\r\n        .attr(\"stroke\", \"none\")\r\n        .attr(\"stroke-width\", 0)\r\n        .attr(\"fill\", function (d: any, i: number) {\r\n          return colors[i % 2];\r\n        })\r\n        .attr(\"x\", 1)\r\n        .attr(\"width\", width)\r\n        .attr(\"height\", function (d: any, i: number) {\r\n          return y(stepArray[i]) - y(stepArray[i + 1]);\r\n        })\r\n        .attr(\"y\", function (d: any, i: number) {\r\n          return y((i + 1) * stepArray[1]);\r\n        });\r\n\r\n      g.selectAll(\".bar\") // 画柱图\r\n        .data(data)\r\n        .enter()\r\n        .append(\"rect\")\r\n        .on(\"mouseover\", tip.show)\r\n        .on(\"mouseout\", tip.hide)\r\n        .attr(\"class\", \"bar\")\r\n        .attr(\"fill\", \"#8a2be2\")\r\n        .attr(\"x\", function (d: any) {\r\n          return x(d.letter);\r\n        })\r\n        .attr(\"y\", height) // 控制动画由下而上\r\n        .attr(\"width\", x.bandwidth())\r\n        .attr(\"height\", 0) // 控制动画由下而上\r\n        .transition()\r\n        .duration(200)\r\n        .ease(proxy.$d3.easeBounceInOut)\r\n        .delay(function (d: any, i: number) {\r\n          return i * 200;\r\n        })\r\n        .attr(\"y\", function (d: any) {\r\n          return y(d.frequency);\r\n        })\r\n        .attr(\"height\", function (d: any) {\r\n          return height - y(d.frequency);\r\n        });\r\n\r\n      g.append(\"g\") // 输出柱图上的数值\r\n        .attr(\"class\", \"bar--text\")\r\n        .selectAll(\"text\")\r\n        .data(data)\r\n        .enter()\r\n        .append(\"text\")\r\n        .attr(\"fill\", \"orange\")\r\n        .attr(\"font-size\", \"14px\")\r\n        .attr(\"text-anchor\", \"middle\")\r\n        .attr(\"x\", function (d: any) {\r\n          return x(d.letter);\r\n        })\r\n        .attr(\"y\", function (d: any) {\r\n          return y(d.frequency);\r\n        })\r\n        .attr(\"dx\", barWidth / 2)\r\n        .attr(\"dy\", \"1em\")\r\n        .text(function (d: any) {\r\n          return (d.frequency * 100).toFixed(2) + \"%\";\r\n        })\r\n        .on(\"mouseover\", tip.show)\r\n        .on(\"mouseout\", tip.hide);\r\n\r\n      chart\r\n        .append(\"g\") // 输出标题\r\n        .attr(\"class\", \"bar--title\")\r\n        .append(\"text\")\r\n        .attr(\"fill\", \"#000\")\r\n        .attr(\"font-size\", \"16px\")\r\n        .attr(\"font-weight\", \"700\")\r\n        .attr(\"text-anchor\", \"middle\")\r\n        .attr(\"x\", containerWidth / 2)\r\n        .attr(\"y\", 20)\r\n        .text(\"简单柱状图\");\r\n    };\r\n\t\treturn {\r\n\t\t\tbarRef\r\n\t\t}\r\n  },\r\n});\r\n","import { render } from \"./d3SimpleBarChart.vue?vue&type=template&id=e43a25d8&ts=true\"\nimport script from \"./d3SimpleBarChart.vue?vue&type=script&lang=ts\"\nexport * from \"./d3SimpleBarChart.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\前端\\\\vue3+ts+d3+ant+mock\\\\vue3+ts+d3+ant+mock\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\r\nimport d3SimpleBarChart from \"@/components/d3SimpleBarChart.vue\";\r\nimport { defineComponent, reactive, toRefs, onMounted } from \"vue\";\r\nimport { getBarData } from '@/api/index'\r\nimport bus from \"@/assets/util/bus\"\r\nexport default defineComponent({\r\n  name: \"d3Bar\",\r\n  components: {\r\n    d3SimpleBarChart,\r\n  },\r\n  setup() {\r\n    onMounted(() => {\r\n      initData()\r\n      bus.on('searchData', () => {\r\n        initData()\r\n      })\r\n    })\r\n    const initData = () => {\r\n      getBarData().then((res: any) => {\r\n        state.data = res.data\r\n      })\r\n    }\r\n    const state = reactive({\r\n      data: null\r\n    });\r\n\t\treturn {\r\n\t\t\t...toRefs(state)\r\n\t\t}\r\n  },\r\n});\r\n","import { render } from \"./d3Bar.vue?vue&type=template&id=c491d522&ts=true\"\nimport script from \"./d3Bar.vue?vue&type=script&lang=ts\"\nexport * from \"./d3Bar.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\前端\\\\vue3+ts+d3+ant+mock\\\\vue3+ts+d3+ant+mock\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["all","Map","on","type","handler","handlers","get","push","set","off","splice","indexOf","emit","evt","slice","map","bus","mitt","appContext","getCurrentInstance","proxy","config","globalProperties","_hoisted_1","key","render","_ctx","_cache","$props","$setup","$data","$options","_component_d3SimpleBarChart","_resolveComponent","data","_openBlock","_createBlock","_createElementBlock","class","style","_hoisted_2","ref","defineComponent","name","props","Array","required","default","setup","barRef","useCurrentInstance","onMounted","initBar","watch","val","deep","containerWidth","value","parentNode","offsetWidth","margin","top","right","bottom","left","width","height","chart","$d3","select","html","attr","x","scaleBand","rangeRound","padding","domain","d","letter","y","scaleLinear","max","frequency","barWidth","length","stepArray","ticks","colors","tip","$d3Tip","offset","toFixed","call","g","append","axisBottom","axisLeft","text","selectAll","range","enter","i","show","hide","bandwidth","transition","duration","ease","easeBounceInOut","delay","__exports__","components","d3SimpleBarChart","initData","getBarData","then","res","state","reactive","toRefs"],"sourceRoot":""}