"use strict";(self["webpackChunkvue3_0"]=self["webpackChunkvue3_0"]||[]).push([[598],{335:function(t,e,a){var r=a(3396);e["Z"]=()=>{const{appContext:t}=(0,r.FN)(),e=t.config.globalProperties;return{proxy:e}}},5598:function(t,e,a){a.r(e),a.d(e,{default:function(){return y}});var r=a(3396);const n={key:1};function o(t,e,a,o,l,i){const s=(0,r.up)("d3SimpleChinaChart");return t.data?((0,r.wg)(),(0,r.j4)(s,{key:0,data:t.data},null,8,["data"])):((0,r.wg)(),(0,r.iD)("div",n,"加载中。。。"))}var l=a(4870);const i={class:"china-map-chart--simple",style:{height:"100%"}},s={ref:"chinaRef"};function c(t,e,a,n,o,l){return(0,r.wg)(),(0,r.iD)("div",i,[((0,r.wg)(),(0,r.iD)("svg",s,null,512))])}var d=a(335),p=(0,r.aZ)({props:{data:{type:Object,required:!0,default:()=>({})}},setup(t){const e=(0,l.iH)(null),{proxy:a}=(0,d.Z)();(0,r.bv)((()=>{n()}));const n=()=>{const r=e.value.parentNode.offsetWidth,n=t.data,o={top:80,right:20,bottom:30,left:60},l=r-o.left-o.right,i=700-o.top-o.bottom;let s=a.$d3.select(e.value).attr("width",l+o.left+o.right).attr("height",i+o.top+o.bottom),c=a.$d3.geoMercator().center([107,31]).scale(a.$d3.min([l,i])).translate([l/2,i/2]),d=a.$d3.geoPath().projection(c),p=a.$d3.scaleOrdinal(a.$d3.schemeCategory20),u=s.append("g").attr("transform","translate("+o.left+","+o.top+")").style("fill-opacity",0),f=u.selectAll("path").data(n.features).enter().append("path").attr("stroke","#fff").attr("stroke-width",1).attr("fill",(function(t,e){return p(e)})).attr("d",d).on("mouseover",(function(){a.$d3.select(a.$d3.event.target).attr("fill","yellow")})).on("mouseout",(function(t,e){a.$d3.select(a.$d3.event.target).attr("fill",p(e))}));f.append("title").text((function(t){return t.properties.name})),u.transition().duration(1e3).style("fill-opacity",1),s.append("g").attr("class","bar--title").append("text").attr("fill","#000").attr("font-size","16px").attr("font-weight","700").attr("text-anchor","middle").attr("x",r/2).attr("y",20).text("中国地图")};return{chinaRef:e}}}),u=a(89);const f=(0,u.Z)(p,[["render",c]]);var h=f,g=a(7860),v=(0,r.aZ)({components:{d3SimpleChinaChart:h},setup(){const t=(0,l.qj)({data:null});return(0,r.bv)((()=>{(0,g.mi)().then((e=>{t.data=e.data}))})),{...(0,l.BK)(t)}}});const m=(0,u.Z)(v,[["render",o]]);var y=m}}]);
//# sourceMappingURL=598.82a10e4d.js.map